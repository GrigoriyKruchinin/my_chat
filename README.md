# Mychat
***
## Описание проекта

Этот проект представляет собой cервис обмена мгновенными сообщениями.

- Версия Python 3.12

***
## Установка и запуск проекта

1. Клонируйте репозиторий:
```
git clone https://github.com/GrigoriyKruchinin/my_chat.git
```

2. Перейдите в директорию проекта:

```
cd my_chat
```

3. Создайте и активируйте виртуальное окружение:

```
python -m venv .venv
source .venv/bin/activate
```

Или используйте встроенные возможности создания и активации виртуального окружения вашей IDE.

4. Установите необходимые зависимости:

```
pip install -r requirements.txt
```

5. Создайте файл `.env` и ознакомьтесь с его содержимым:

```
cp .env.example .env
```

Если вы работаете через терминал, который не поддерживает автоматическую загрузку переменных окружения из `.env` файла, запустите следующую команду:

```
export $(grep -v '^#' .env | xargs)
```

> **Примечание:** Эта команда считывает все строки из `.env`, игнорируя комментарии (строки, начинающиеся с `#`), и экспортирует их как переменные окружения.

6. Убедитесь, что скрипт инициализации приложения имеет исполняемые права. Для этого используйте команду:

```
chmod +x initial_setup.sh
```

7. Убедитесь, что порты, используемые приложением, свободны (*при необходимости остановите запущенные процессы*), и запустите начальную настройку проекта:

```
./initial_setup.sh
```

В итоге, скрипт соберет и запустит докер контейнеры, установит миграции и запустит приложение.

8. Приложение будет доступно по адресу:

```
http://localhost/
```

Для удобства взаимодействия с API используйте интерактивную документацию, доступную в браузере по адресу:

```
http://localhost/docs
```

1. При следующих запусках приложения достаточно использовать команду:

```
docker-compose up
```

***

## Порядок использования приложения

1. Зарегистрируйтесь на странице: `http://localhost/auth/`.

2. Проверьте вашу почту, скопируйте токен и перейдите по ссылке в сообщении.

3. В Telegram (по ссылке в письме) выполните команду `/start`, ознакомьтесь с инструкцией и пройдите верификацию.

4. Авторизуйтесь на сайте: `http://localhost/auth/`.

5. Перейдите в чат, где вы сможете общаться с зарегистрированными пользователями в реальном времени.

***

## Особенности реализации

1. Регистрация и аутентификация пользователей:

- Аутентификация и авторизация реализованы через JWT.

2. Отправка и получение сообщений:

- Пользователи могут отправлять сообщения друг другу.
- Сообщения передаются в реальном времени через WebSocket.

3. Сохранение истории сообщений:

- Все сообщения сохраняются в базе данных PostgreSQL.
- Реализована возможность просмотра истории переписки между пользователями.

4. Уведомления через Telegram-бота:

- Реализован Telegram-бот с использованием библиотеки Aiogram.
- Если пользователь находится оффлайн, ему отправляется уведомление о новом сообщении через бота спустя 60 секунд после отправки сообщения.
- Для предотвращения спама уведомление отправляется только один раз до момента прочтения сообщения пользователем.

5. Фоновые задачи:

- Фоновые задачи, такие как отправка уведомлений на почту и Telegram, реализованы с помощью Celery.

6. Кэширование и сессии с использованием Redis:

- Redis используется для кэширования данных и хранения сессий пользователей.

7. Контейнеризация:

- Приложение контейнеризовано с помощью Docker.
- Настроено обратное проксирование с использованием Nginx.

***
## Screenshots

Для наглядности работы приложения в папке `screenshots` вы можете найти демонстрацию основного функционала приложения.
***

## Контакты
- Автор: Grigoriy Kruchinin
- [GitHub](https://github.com/GrigoriyKruchinin)
- [Email](gkruchinin75@gmail.com)
- [LinkedIn](https://www.linkedin.com/in/grigoriy-kruchinin/)

***


ссылка на ТГ БОТА 
```
t.me/super_reminder_chat_bot
```